{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _getDerivedStateFromProps = _interopRequireDefault(require(\"./state/getDerivedStateFromProps\"));\n\nvar _sorting = require(\"./state/sorting\");\n\nvar _denormalize = _interopRequireDefault(require(\"./tools/denormalize\"));\n\nvar _events = require(\"../../tools/events\");\n\nvar _filter = require(\"./tools/filter\");\n\nvar _sorting2 = require(\"./tools/sorting\");\n\nvar _instanceId = _interopRequireDefault(require(\"./tools/instanceId\"));\n\nvar _defaultTranslations;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar getInstanceId = (0, _instanceId.default)();\nvar translationKeys = {\n  expandRow: 'carbon.table.row.expand',\n  collapseRow: 'carbon.table.row.collapse',\n  expandAll: 'carbon.table.all.expand',\n  collapseAll: 'carbon.table.all.collapse',\n  selectAll: 'carbon.table.all.select',\n  unselectAll: 'carbon.table.all.unselect',\n  selectRow: 'carbon.table.row.select',\n  unselectRow: 'carbon.table.row.unselect'\n};\nvar defaultTranslations = (_defaultTranslations = {}, _defineProperty(_defaultTranslations, translationKeys.expandAll, 'Expand all rows'), _defineProperty(_defaultTranslations, translationKeys.collapseAll, 'Collapse all rows'), _defineProperty(_defaultTranslations, translationKeys.expandRow, 'Expand current row'), _defineProperty(_defaultTranslations, translationKeys.collapseRow, 'Collapse current row'), _defineProperty(_defaultTranslations, translationKeys.selectAll, 'Select all rows'), _defineProperty(_defaultTranslations, translationKeys.unselectAll, 'Unselect all rows'), _defineProperty(_defaultTranslations, translationKeys.selectRow, 'Select row'), _defineProperty(_defaultTranslations, translationKeys.unselectRow, 'Unselect row'), _defaultTranslations);\n\nvar translateWithId = function translateWithId(id) {\n  return defaultTranslations[id];\n};\n/**\n * Data Tables are used to represent a collection of resources, displaying a\n * subset of their fields in columns, or headers. We prioritize direct updates\n * to the state of what we're rendering, so internally we end up normalizing the\n * given data and then denormalizing it when rendering.\n *\n * As a result, each part of the DataTable is accessible through look-up by id,\n * and updating the state of the single entity will cascade updates to the\n * consumer.\n */\n\n\nvar DataTable = /*#__PURE__*/function (_React$Component) {\n  _inherits(DataTable, _React$Component);\n\n  var _super = _createSuper(DataTable);\n\n  function DataTable(_props) {\n    var _this;\n\n    _classCallCheck(this, DataTable);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"getHeaderProps\", function (_ref) {\n      var header = _ref.header,\n          onClick = _ref.onClick,\n          _ref$isSortable = _ref.isSortable,\n          isSortable = _ref$isSortable === void 0 ? _this.props.isSortable : _ref$isSortable,\n          rest = _objectWithoutProperties(_ref, [\"header\", \"onClick\", \"isSortable\"]);\n\n      var _this$state = _this.state,\n          sortDirection = _this$state.sortDirection,\n          sortHeaderKey = _this$state.sortHeaderKey;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        key: header.key,\n        sortDirection: sortDirection,\n        isSortable: isSortable,\n        isSortHeader: sortHeaderKey === header.key,\n        // Compose the event handlers so we don't overwrite a consumer's `onClick`\n        // handler\n        onClick: (0, _events.composeEventHandlers)([_this.handleSortBy(header.key), onClick ? _this.handleOnHeaderClick(onClick, {\n          sortHeaderKey: header.key,\n          sortDirection: sortDirection\n        }) : null])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getExpandHeaderProps\", function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          onClick = _ref2.onClick,\n          rest = _objectWithoutProperties(_ref2, [\"onClick\"]);\n\n      var t = _this.props.translateWithId;\n      var _this$state2 = _this.state,\n          isExpandedAll = _this$state2.isExpandedAll,\n          rowIds = _this$state2.rowIds,\n          rowsById = _this$state2.rowsById;\n      var isExpanded = isExpandedAll || rowIds.every(function (id) {\n        return rowsById[id].isExpanded;\n      });\n      var translationKey = !isExpanded ? translationKeys.collapseAll : translationKeys.expandAll;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        ariaLabel: t(translationKey),\n        isExpanded: isExpanded,\n        // Compose the event handlers so we don't overwrite a consumer's `onClick`\n        // handler\n        onExpand: (0, _events.composeEventHandlers)([_this.handleOnExpandAll, onClick ? _this.handleOnExpandHeaderClick(onClick, {\n          isExpanded: isExpanded\n        }) : null])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnHeaderClick\", function (onClick, sortParams) {\n      return function (e) {\n        return onClick(e, sortParams);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnExpandHeaderClick\", function (onClick, expandParams) {\n      return function (e) {\n        return onClick(e, expandParams);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRowProps\", function (_ref3) {\n      var row = _ref3.row,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, [\"row\", \"onClick\"]);\n\n      var t = _this.props.translateWithId;\n      var translationKey = row.isExpanded ? translationKeys.collapseRow : translationKeys.expandRow;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        key: row.id,\n        // Compose the event handlers so we don't overwrite a consumer's `onClick`\n        // handler\n        onExpand: (0, _events.composeEventHandlers)([_this.handleOnExpandRow(row.id), onClick]),\n        isExpanded: row.isExpanded,\n        ariaLabel: t(translationKey),\n        isSelected: row.isSelected,\n        disabled: row.disabled\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectionProps\", function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          onClick = _ref4.onClick,\n          row = _ref4.row,\n          rest = _objectWithoutProperties(_ref4, [\"onClick\", \"row\"]);\n\n      var t = _this.props.translateWithId; // If we're given a row, return the selection state values for that row\n\n      if (row) {\n        var _translationKey = row.isSelected ? translationKeys.unselectRow : translationKeys.selectRow;\n\n        return _objectSpread(_objectSpread({}, rest), {}, {\n          checked: row.isSelected,\n          onSelect: (0, _events.composeEventHandlers)([_this.handleOnSelectRow(row.id), onClick]),\n          id: \"\".concat(_this.getTablePrefix(), \"__select-row-\").concat(row.id),\n          name: \"select-row-\".concat(row.id),\n          ariaLabel: t(_translationKey),\n          disabled: row.disabled,\n          radio: _this.props.radio || null\n        });\n      } // Otherwise, we're working on `TableSelectAll` which handles toggling the\n      // selection state of all rows.\n\n\n      var rowCount = _this.state.rowIds.length;\n\n      var selectedRowCount = _this.getSelectedRows().length;\n\n      var checked = rowCount > 0 && selectedRowCount === rowCount;\n      var indeterminate = rowCount > 0 && selectedRowCount > 0 && selectedRowCount !== rowCount;\n      var translationKey = checked || indeterminate ? translationKeys.unselectAll : translationKeys.selectAll;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        ariaLabel: t(translationKey),\n        checked: checked,\n        id: \"\".concat(_this.getTablePrefix(), \"__select-all\"),\n        indeterminate: indeterminate,\n        name: 'select-all',\n        onSelect: (0, _events.composeEventHandlers)([_this.handleSelectAll, onClick])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getToolbarProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var size = _this.props.size;\n      return _objectSpread(_objectSpread({}, props), {}, {\n        size: size === 'compact' || size === 'short' ? 'small' : 'normal'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBatchActionProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var shouldShowBatchActions = _this.state.shouldShowBatchActions;\n\n      var totalSelected = _this.getSelectedRows().length;\n\n      return _objectSpread(_objectSpread({}, props), {}, {\n        shouldShowBatchActions: shouldShowBatchActions,\n        totalSelected: totalSelected,\n        onCancel: _this.handleOnCancel\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTableProps\", function () {\n      var _this$props = _this.props,\n          useZebraStyles = _this$props.useZebraStyles,\n          size = _this$props.size,\n          isSortable = _this$props.isSortable,\n          useStaticWidth = _this$props.useStaticWidth,\n          shouldShowBorder = _this$props.shouldShowBorder,\n          stickyHeader = _this$props.stickyHeader,\n          overflowMenuOnHover = _this$props.overflowMenuOnHover;\n      return {\n        useZebraStyles: useZebraStyles,\n        size: size,\n        isSortable: isSortable,\n        useStaticWidth: useStaticWidth,\n        shouldShowBorder: shouldShowBorder,\n        stickyHeader: stickyHeader,\n        overflowMenuOnHover: overflowMenuOnHover\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTableContainerProps\", function () {\n      var stickyHeader = _this.props.stickyHeader;\n      return {\n        stickyHeader: stickyHeader\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectedRows\", function () {\n      return _this.state.rowIds.filter(function (id) {\n        var row = _this.state.rowsById[id];\n        return row.isSelected && !row.disabled;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getFilteredRowIds\", function () {\n      var filteredRowIds = typeof _this.state.filterInputValue === 'string' ? _this.props.filterRows({\n        rowIds: _this.state.rowIds,\n        headers: _this.props.headers,\n        cellsById: _this.state.cellsById,\n        inputValue: _this.state.filterInputValue\n      }) : _this.state.rowIds;\n\n      if (filteredRowIds.length == 0) {\n        return _this.state.rowIds;\n      }\n\n      return filteredRowIds;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTablePrefix\", function () {\n      return \"data-table-\".concat(_this.instanceId);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAllSelectedState\", function (initialState, isSelected, filteredRowIds) {\n      var rowIds = initialState.rowIds;\n      return {\n        rowsById: rowIds.reduce(function (acc, id) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, id, _objectSpread(_objectSpread({}, initialState.rowsById[id]), !initialState.rowsById[id].disabled && {\n            isSelected: filteredRowIds.includes(id) && isSelected\n          })));\n        }, {})\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnCancel\", function () {\n      _this.setState(function (state) {\n        return _objectSpread({\n          shouldShowBatchActions: false\n        }, _this.setAllSelectedState(state, false, _this.getFilteredRowIds()));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelectAll\", function () {\n      _this.setState(function (state) {\n        var filteredRowIds = _this.getFilteredRowIds();\n\n        var rowsById = state.rowsById;\n        var isSelected = !(Object.values(rowsById).filter(function (row) {\n          return row.isSelected && !row.disabled;\n        }).length > 0);\n        return _objectSpread({\n          shouldShowBatchActions: isSelected\n        }, _this.setAllSelectedState(state, isSelected, filteredRowIds));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnSelectRow\", function (rowId) {\n      return function () {\n        _this.setState(function (state) {\n          var row = state.rowsById[rowId];\n\n          if (_this.props.radio) {\n            // deselect all radio buttons\n            var rowsById = Object.entries(state.rowsById).reduce(function (p, c) {\n              var _c = _slicedToArray(c, 2),\n                  key = _c[0],\n                  val = _c[1];\n\n              val.isSelected = false;\n              p[key] = val;\n              return p;\n            }, {});\n            return {\n              shouldShowBatchActions: false,\n              rowsById: _objectSpread(_objectSpread({}, rowsById), {}, _defineProperty({}, rowId, _objectSpread(_objectSpread({}, row), {}, {\n                isSelected: !row.isSelected\n              })))\n            };\n          }\n\n          var selectedRows = state.rowIds.filter(function (id) {\n            return state.rowsById[id].isSelected;\n          }).length; // Predict the length of the selected rows after this change occurs\n\n          var selectedRowsCount = !row.isSelected ? selectedRows + 1 : selectedRows - 1;\n          return {\n            // Basic assumption here is that we want to show the batch action bar if\n            // the row is being selected. If it's being unselected, then see if we\n            // have a non-zero number of selected rows that batch actions could\n            // still apply to\n            shouldShowBatchActions: !row.isSelected || selectedRowsCount > 0,\n            rowsById: _objectSpread(_objectSpread({}, state.rowsById), {}, _defineProperty({}, rowId, _objectSpread(_objectSpread({}, row), {}, {\n              isSelected: !row.isSelected\n            })))\n          };\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnExpandRow\", function (rowId) {\n      return function () {\n        _this.setState(function (state) {\n          var row = state.rowsById[rowId];\n          var isExpandedAll = state.isExpandedAll;\n          return {\n            isExpandedAll: row.isExpanded ? false : isExpandedAll,\n            rowsById: _objectSpread(_objectSpread({}, state.rowsById), {}, _defineProperty({}, rowId, _objectSpread(_objectSpread({}, row), {}, {\n              isExpanded: !row.isExpanded\n            })))\n          };\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnExpandAll\", function () {\n      _this.setState(function (state) {\n        var rowIds = state.rowIds,\n            isExpandedAll = state.isExpandedAll;\n        return {\n          isExpandedAll: !isExpandedAll,\n          rowsById: rowIds.reduce(function (acc, id) {\n            return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, id, _objectSpread(_objectSpread({}, state.rowsById[id]), {}, {\n              isExpanded: !isExpandedAll\n            })));\n          }, {})\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSortBy\", function (headerKey) {\n      return function () {\n        _this.setState(function (state) {\n          return (0, _sorting.getNextSortState)(_this.props, state, {\n            key: headerKey\n          });\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnInputValueChange\", function (event, defaultValue) {\n      if (event.target) {\n        _this.setState({\n          filterInputValue: event.target.value\n        });\n      }\n\n      if (defaultValue) {\n        _this.setState({\n          filterInputValue: defaultValue\n        });\n      }\n    });\n\n    _this.state = _objectSpread(_objectSpread({}, (0, _getDerivedStateFromProps.default)(_props, {})), {}, {\n      isExpandedAll: false // Start with collapsed state, treat `undefined` as neutral state\n\n    });\n    _this.instanceId = getInstanceId();\n    return _this;\n  }\n\n  _createClass(DataTable, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps === this.props) {\n        return;\n      }\n\n      var prevRowIds = prevProps.rows.map(function (row) {\n        return row.id;\n      });\n      var rowIds = this.props.rows.map(function (row) {\n        return row.id;\n      });\n\n      if (!(0, _lodash.default)(prevRowIds, rowIds)) {\n        this.setState(function (state) {\n          return (0, _getDerivedStateFromProps.default)(_this2.props, state);\n        });\n        return;\n      }\n\n      var prevHeaders = prevProps.headers.map(function (header) {\n        return header.key;\n      });\n      var headers = this.props.headers.map(function (header) {\n        return header.key;\n      });\n\n      if (!(0, _lodash.default)(prevHeaders, headers)) {\n        this.setState(function (state) {\n          return (0, _getDerivedStateFromProps.default)(_this2.props, state);\n        });\n        return;\n      }\n\n      if (!(0, _lodash.default)(prevProps.rows, this.props.rows)) {\n        this.setState(function (state) {\n          return (0, _getDerivedStateFromProps.default)(_this2.props, state);\n        });\n        return;\n      }\n    }\n    /**\n     * Get the props associated with the given header. Mostly used for adding in\n     * sorting behavior.\n     *\n     * @param {object} config\n     * @param {string} config.header the header we want the props for\n     * @param {Function} config.onClick a custom click handler for the header\n     * @returns {object}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          filterRows = _this$props2.filterRows,\n          headers = _this$props2.headers,\n          render = _this$props2.render;\n      var _this$state3 = this.state,\n          filterInputValue = _this$state3.filterInputValue,\n          rowIds = _this$state3.rowIds,\n          rowsById = _this$state3.rowsById,\n          cellsById = _this$state3.cellsById;\n      var filteredRowIds = typeof filterInputValue === 'string' ? filterRows({\n        rowIds: rowIds,\n        headers: headers,\n        cellsById: cellsById,\n        inputValue: filterInputValue\n      }) : rowIds;\n      var renderProps = {\n        // Data derived from state\n        rows: (0, _denormalize.default)(filteredRowIds, rowsById, cellsById),\n        headers: this.props.headers,\n        selectedRows: (0, _denormalize.default)(this.getSelectedRows(), rowsById, cellsById),\n        // Prop accessors/getters\n        getHeaderProps: this.getHeaderProps,\n        getExpandHeaderProps: this.getExpandHeaderProps,\n        getRowProps: this.getRowProps,\n        getSelectionProps: this.getSelectionProps,\n        getToolbarProps: this.getToolbarProps,\n        getBatchActionProps: this.getBatchActionProps,\n        getTableProps: this.getTableProps,\n        getTableContainerProps: this.getTableContainerProps,\n        // Custom event handlers\n        onInputChange: this.handleOnInputValueChange,\n        // Expose internal state change actions\n        sortBy: function sortBy(headerKey) {\n          return _this3.handleSortBy(headerKey)();\n        },\n        selectAll: this.handleSelectAll,\n        selectRow: function selectRow(rowId) {\n          return _this3.handleOnSelectRow(rowId)();\n        },\n        expandRow: function expandRow(rowId) {\n          return _this3.handleOnExpandRow(rowId)();\n        },\n        expandAll: this.handleOnExpandAll,\n        radio: this.props.radio\n      };\n\n      if (render !== undefined) {\n        return render(renderProps);\n      }\n\n      if (children !== undefined) {\n        return children(renderProps);\n      }\n\n      return null;\n    }\n  }]);\n\n  return DataTable;\n}(_react.default.Component);\n\nexports.default = DataTable;\n\n_defineProperty(DataTable, \"propTypes\", {\n  /**\n   * The `rows` prop is where you provide us with a list of all the rows that\n   * you want to render in the table. The only hard requirement is that this\n   * is an array of objects, and that each object has a unique `id` field\n   * available on it.\n   */\n  rows: _propTypes.default.arrayOf(_propTypes.default.shape({\n    id: _propTypes.default.string.isRequired,\n    disabled: _propTypes.default.bool,\n    isSelected: _propTypes.default.bool,\n    isExpanded: _propTypes.default.bool\n  })).isRequired,\n\n  /**\n   * The `headers` prop represents the order in which the headers should\n   * appear in the table. We expect an array of objects to be passed in, where\n   * `key` is the name of the key in a row object, and `header` is the name of\n   * the header.\n   */\n  headers: _propTypes.default.arrayOf(_propTypes.default.shape({\n    key: _propTypes.default.string.isRequired,\n    header: _propTypes.default.node.isRequired\n  })).isRequired,\n\n  /**\n   * Optional hook to manually control sorting of the rows.\n   */\n  sortRow: _propTypes.default.func,\n\n  /**\n   * Optional hook to manually control filtering of the rows from the\n   * TableToolbarSearch component\n   */\n  filterRows: _propTypes.default.func,\n\n  /**\n   * Provide a string for the current locale\n   */\n  locale: _propTypes.default.string,\n\n  /**\n   * Optional method that takes in a message id and returns an\n   * internationalized string. See `DataTable.translationKeys` for all\n   * available message ids.\n   */\n  translateWithId: _propTypes.default.func,\n\n  /**\n   * `normal` Change the row height of table\n   */\n  size: _propTypes.default.oneOf(['compact', 'short', 'normal', 'tall']),\n\n  /**\n   * Specify whether the control should be a radio button or inline checkbox\n   */\n  radio: _propTypes.default.bool,\n\n  /**\n   * Specify whether the header should be sticky.\n   * Still experimental: may not work with every combination of table props\n   */\n  stickyHeader: _propTypes.default.bool,\n\n  /**\n   * Specify whether the table should be able to be sorted by its headers\n   */\n  isSortable: _propTypes.default.bool,\n\n  /**\n   * Specify whether the overflow menu (if it exists) should be shown always, or only on hover\n   */\n  overflowMenuOnHover: _propTypes.default.bool\n});\n\n_defineProperty(DataTable, \"defaultProps\", {\n  sortRow: _sorting2.defaultSortRow,\n  filterRows: _filter.defaultFilterRows,\n  locale: 'en',\n  size: 'normal',\n  overflowMenuOnHover: true,\n  translateWithId: translateWithId\n});\n\n_defineProperty(DataTable, \"translationKeys\", Object.values(translationKeys));","map":{"version":3,"sources":["/Users/ggopinathpatro/Downloads/HMCReactive/carbon-react/carbon-react/node_modules/carbon-components-react/lib/components/DataTable/DataTable.js"],"names":["Object","defineProperty","exports","value","default","_propTypes","_interopRequireDefault","require","_react","_lodash","_getDerivedStateFromProps","_sorting","_denormalize","_events","_filter","_sorting2","_instanceId","_defaultTranslations","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","call","slice","name","Array","from","test","len","length","arr2","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","isArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","e","getPrototypeOf","getInstanceId","translationKeys","expandRow","collapseRow","expandAll","collapseAll","selectAll","unselectAll","selectRow","unselectRow","defaultTranslations","translateWithId","id","DataTable","_React$Component","_super","_props","_this","_ref","header","onClick","_ref$isSortable","isSortable","rest","_this$state","state","sortDirection","sortHeaderKey","isSortHeader","composeEventHandlers","handleSortBy","handleOnHeaderClick","_ref2","t","_this$state2","isExpandedAll","rowIds","rowsById","isExpanded","every","translationKey","ariaLabel","onExpand","handleOnExpandAll","handleOnExpandHeaderClick","sortParams","expandParams","_ref3","row","handleOnExpandRow","isSelected","disabled","_ref4","_translationKey","checked","onSelect","handleOnSelectRow","concat","getTablePrefix","radio","rowCount","selectedRowCount","getSelectedRows","indeterminate","handleSelectAll","size","shouldShowBatchActions","totalSelected","onCancel","handleOnCancel","_this$props","useZebraStyles","useStaticWidth","shouldShowBorder","stickyHeader","overflowMenuOnHover","filteredRowIds","filterInputValue","filterRows","headers","cellsById","inputValue","instanceId","initialState","reduce","acc","includes","setState","setAllSelectedState","getFilteredRowIds","values","rowId","entries","c","_c","val","selectedRows","selectedRowsCount","headerKey","getNextSortState","event","defaultValue","componentDidUpdate","prevProps","_this2","prevRowIds","rows","map","prevHeaders","render","_this3","_this$props2","children","_this$state3","renderProps","getHeaderProps","getExpandHeaderProps","getRowProps","getSelectionProps","getToolbarProps","getBatchActionProps","getTableProps","getTableContainerProps","onInputChange","handleOnInputValueChange","sortBy","Component","arrayOf","shape","string","isRequired","bool","node","sortRow","func","locale","oneOf","defaultSortRow","defaultFilterRows"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _getDerivedStateFromProps = _interopRequireDefault(require(\"./state/getDerivedStateFromProps\"));\n\nvar _sorting = require(\"./state/sorting\");\n\nvar _denormalize = _interopRequireDefault(require(\"./tools/denormalize\"));\n\nvar _events = require(\"../../tools/events\");\n\nvar _filter = require(\"./tools/filter\");\n\nvar _sorting2 = require(\"./tools/sorting\");\n\nvar _instanceId = _interopRequireDefault(require(\"./tools/instanceId\"));\n\nvar _defaultTranslations;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar getInstanceId = (0, _instanceId.default)();\nvar translationKeys = {\n  expandRow: 'carbon.table.row.expand',\n  collapseRow: 'carbon.table.row.collapse',\n  expandAll: 'carbon.table.all.expand',\n  collapseAll: 'carbon.table.all.collapse',\n  selectAll: 'carbon.table.all.select',\n  unselectAll: 'carbon.table.all.unselect',\n  selectRow: 'carbon.table.row.select',\n  unselectRow: 'carbon.table.row.unselect'\n};\nvar defaultTranslations = (_defaultTranslations = {}, _defineProperty(_defaultTranslations, translationKeys.expandAll, 'Expand all rows'), _defineProperty(_defaultTranslations, translationKeys.collapseAll, 'Collapse all rows'), _defineProperty(_defaultTranslations, translationKeys.expandRow, 'Expand current row'), _defineProperty(_defaultTranslations, translationKeys.collapseRow, 'Collapse current row'), _defineProperty(_defaultTranslations, translationKeys.selectAll, 'Select all rows'), _defineProperty(_defaultTranslations, translationKeys.unselectAll, 'Unselect all rows'), _defineProperty(_defaultTranslations, translationKeys.selectRow, 'Select row'), _defineProperty(_defaultTranslations, translationKeys.unselectRow, 'Unselect row'), _defaultTranslations);\n\nvar translateWithId = function translateWithId(id) {\n  return defaultTranslations[id];\n};\n/**\n * Data Tables are used to represent a collection of resources, displaying a\n * subset of their fields in columns, or headers. We prioritize direct updates\n * to the state of what we're rendering, so internally we end up normalizing the\n * given data and then denormalizing it when rendering.\n *\n * As a result, each part of the DataTable is accessible through look-up by id,\n * and updating the state of the single entity will cascade updates to the\n * consumer.\n */\n\n\nvar DataTable = /*#__PURE__*/function (_React$Component) {\n  _inherits(DataTable, _React$Component);\n\n  var _super = _createSuper(DataTable);\n\n  function DataTable(_props) {\n    var _this;\n\n    _classCallCheck(this, DataTable);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"getHeaderProps\", function (_ref) {\n      var header = _ref.header,\n          onClick = _ref.onClick,\n          _ref$isSortable = _ref.isSortable,\n          isSortable = _ref$isSortable === void 0 ? _this.props.isSortable : _ref$isSortable,\n          rest = _objectWithoutProperties(_ref, [\"header\", \"onClick\", \"isSortable\"]);\n\n      var _this$state = _this.state,\n          sortDirection = _this$state.sortDirection,\n          sortHeaderKey = _this$state.sortHeaderKey;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        key: header.key,\n        sortDirection: sortDirection,\n        isSortable: isSortable,\n        isSortHeader: sortHeaderKey === header.key,\n        // Compose the event handlers so we don't overwrite a consumer's `onClick`\n        // handler\n        onClick: (0, _events.composeEventHandlers)([_this.handleSortBy(header.key), onClick ? _this.handleOnHeaderClick(onClick, {\n          sortHeaderKey: header.key,\n          sortDirection: sortDirection\n        }) : null])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getExpandHeaderProps\", function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          onClick = _ref2.onClick,\n          rest = _objectWithoutProperties(_ref2, [\"onClick\"]);\n\n      var t = _this.props.translateWithId;\n      var _this$state2 = _this.state,\n          isExpandedAll = _this$state2.isExpandedAll,\n          rowIds = _this$state2.rowIds,\n          rowsById = _this$state2.rowsById;\n      var isExpanded = isExpandedAll || rowIds.every(function (id) {\n        return rowsById[id].isExpanded;\n      });\n      var translationKey = !isExpanded ? translationKeys.collapseAll : translationKeys.expandAll;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        ariaLabel: t(translationKey),\n        isExpanded: isExpanded,\n        // Compose the event handlers so we don't overwrite a consumer's `onClick`\n        // handler\n        onExpand: (0, _events.composeEventHandlers)([_this.handleOnExpandAll, onClick ? _this.handleOnExpandHeaderClick(onClick, {\n          isExpanded: isExpanded\n        }) : null])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnHeaderClick\", function (onClick, sortParams) {\n      return function (e) {\n        return onClick(e, sortParams);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnExpandHeaderClick\", function (onClick, expandParams) {\n      return function (e) {\n        return onClick(e, expandParams);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRowProps\", function (_ref3) {\n      var row = _ref3.row,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, [\"row\", \"onClick\"]);\n\n      var t = _this.props.translateWithId;\n      var translationKey = row.isExpanded ? translationKeys.collapseRow : translationKeys.expandRow;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        key: row.id,\n        // Compose the event handlers so we don't overwrite a consumer's `onClick`\n        // handler\n        onExpand: (0, _events.composeEventHandlers)([_this.handleOnExpandRow(row.id), onClick]),\n        isExpanded: row.isExpanded,\n        ariaLabel: t(translationKey),\n        isSelected: row.isSelected,\n        disabled: row.disabled\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectionProps\", function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          onClick = _ref4.onClick,\n          row = _ref4.row,\n          rest = _objectWithoutProperties(_ref4, [\"onClick\", \"row\"]);\n\n      var t = _this.props.translateWithId; // If we're given a row, return the selection state values for that row\n\n      if (row) {\n        var _translationKey = row.isSelected ? translationKeys.unselectRow : translationKeys.selectRow;\n\n        return _objectSpread(_objectSpread({}, rest), {}, {\n          checked: row.isSelected,\n          onSelect: (0, _events.composeEventHandlers)([_this.handleOnSelectRow(row.id), onClick]),\n          id: \"\".concat(_this.getTablePrefix(), \"__select-row-\").concat(row.id),\n          name: \"select-row-\".concat(row.id),\n          ariaLabel: t(_translationKey),\n          disabled: row.disabled,\n          radio: _this.props.radio || null\n        });\n      } // Otherwise, we're working on `TableSelectAll` which handles toggling the\n      // selection state of all rows.\n\n\n      var rowCount = _this.state.rowIds.length;\n\n      var selectedRowCount = _this.getSelectedRows().length;\n\n      var checked = rowCount > 0 && selectedRowCount === rowCount;\n      var indeterminate = rowCount > 0 && selectedRowCount > 0 && selectedRowCount !== rowCount;\n      var translationKey = checked || indeterminate ? translationKeys.unselectAll : translationKeys.selectAll;\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        ariaLabel: t(translationKey),\n        checked: checked,\n        id: \"\".concat(_this.getTablePrefix(), \"__select-all\"),\n        indeterminate: indeterminate,\n        name: 'select-all',\n        onSelect: (0, _events.composeEventHandlers)([_this.handleSelectAll, onClick])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getToolbarProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var size = _this.props.size;\n      return _objectSpread(_objectSpread({}, props), {}, {\n        size: size === 'compact' || size === 'short' ? 'small' : 'normal'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBatchActionProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var shouldShowBatchActions = _this.state.shouldShowBatchActions;\n\n      var totalSelected = _this.getSelectedRows().length;\n\n      return _objectSpread(_objectSpread({}, props), {}, {\n        shouldShowBatchActions: shouldShowBatchActions,\n        totalSelected: totalSelected,\n        onCancel: _this.handleOnCancel\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTableProps\", function () {\n      var _this$props = _this.props,\n          useZebraStyles = _this$props.useZebraStyles,\n          size = _this$props.size,\n          isSortable = _this$props.isSortable,\n          useStaticWidth = _this$props.useStaticWidth,\n          shouldShowBorder = _this$props.shouldShowBorder,\n          stickyHeader = _this$props.stickyHeader,\n          overflowMenuOnHover = _this$props.overflowMenuOnHover;\n      return {\n        useZebraStyles: useZebraStyles,\n        size: size,\n        isSortable: isSortable,\n        useStaticWidth: useStaticWidth,\n        shouldShowBorder: shouldShowBorder,\n        stickyHeader: stickyHeader,\n        overflowMenuOnHover: overflowMenuOnHover\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTableContainerProps\", function () {\n      var stickyHeader = _this.props.stickyHeader;\n      return {\n        stickyHeader: stickyHeader\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectedRows\", function () {\n      return _this.state.rowIds.filter(function (id) {\n        var row = _this.state.rowsById[id];\n        return row.isSelected && !row.disabled;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getFilteredRowIds\", function () {\n      var filteredRowIds = typeof _this.state.filterInputValue === 'string' ? _this.props.filterRows({\n        rowIds: _this.state.rowIds,\n        headers: _this.props.headers,\n        cellsById: _this.state.cellsById,\n        inputValue: _this.state.filterInputValue\n      }) : _this.state.rowIds;\n\n      if (filteredRowIds.length == 0) {\n        return _this.state.rowIds;\n      }\n\n      return filteredRowIds;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTablePrefix\", function () {\n      return \"data-table-\".concat(_this.instanceId);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAllSelectedState\", function (initialState, isSelected, filteredRowIds) {\n      var rowIds = initialState.rowIds;\n      return {\n        rowsById: rowIds.reduce(function (acc, id) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, id, _objectSpread(_objectSpread({}, initialState.rowsById[id]), !initialState.rowsById[id].disabled && {\n            isSelected: filteredRowIds.includes(id) && isSelected\n          })));\n        }, {})\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnCancel\", function () {\n      _this.setState(function (state) {\n        return _objectSpread({\n          shouldShowBatchActions: false\n        }, _this.setAllSelectedState(state, false, _this.getFilteredRowIds()));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelectAll\", function () {\n      _this.setState(function (state) {\n        var filteredRowIds = _this.getFilteredRowIds();\n\n        var rowsById = state.rowsById;\n        var isSelected = !(Object.values(rowsById).filter(function (row) {\n          return row.isSelected && !row.disabled;\n        }).length > 0);\n        return _objectSpread({\n          shouldShowBatchActions: isSelected\n        }, _this.setAllSelectedState(state, isSelected, filteredRowIds));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnSelectRow\", function (rowId) {\n      return function () {\n        _this.setState(function (state) {\n          var row = state.rowsById[rowId];\n\n          if (_this.props.radio) {\n            // deselect all radio buttons\n            var rowsById = Object.entries(state.rowsById).reduce(function (p, c) {\n              var _c = _slicedToArray(c, 2),\n                  key = _c[0],\n                  val = _c[1];\n\n              val.isSelected = false;\n              p[key] = val;\n              return p;\n            }, {});\n            return {\n              shouldShowBatchActions: false,\n              rowsById: _objectSpread(_objectSpread({}, rowsById), {}, _defineProperty({}, rowId, _objectSpread(_objectSpread({}, row), {}, {\n                isSelected: !row.isSelected\n              })))\n            };\n          }\n\n          var selectedRows = state.rowIds.filter(function (id) {\n            return state.rowsById[id].isSelected;\n          }).length; // Predict the length of the selected rows after this change occurs\n\n          var selectedRowsCount = !row.isSelected ? selectedRows + 1 : selectedRows - 1;\n          return {\n            // Basic assumption here is that we want to show the batch action bar if\n            // the row is being selected. If it's being unselected, then see if we\n            // have a non-zero number of selected rows that batch actions could\n            // still apply to\n            shouldShowBatchActions: !row.isSelected || selectedRowsCount > 0,\n            rowsById: _objectSpread(_objectSpread({}, state.rowsById), {}, _defineProperty({}, rowId, _objectSpread(_objectSpread({}, row), {}, {\n              isSelected: !row.isSelected\n            })))\n          };\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnExpandRow\", function (rowId) {\n      return function () {\n        _this.setState(function (state) {\n          var row = state.rowsById[rowId];\n          var isExpandedAll = state.isExpandedAll;\n          return {\n            isExpandedAll: row.isExpanded ? false : isExpandedAll,\n            rowsById: _objectSpread(_objectSpread({}, state.rowsById), {}, _defineProperty({}, rowId, _objectSpread(_objectSpread({}, row), {}, {\n              isExpanded: !row.isExpanded\n            })))\n          };\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnExpandAll\", function () {\n      _this.setState(function (state) {\n        var rowIds = state.rowIds,\n            isExpandedAll = state.isExpandedAll;\n        return {\n          isExpandedAll: !isExpandedAll,\n          rowsById: rowIds.reduce(function (acc, id) {\n            return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, id, _objectSpread(_objectSpread({}, state.rowsById[id]), {}, {\n              isExpanded: !isExpandedAll\n            })));\n          }, {})\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSortBy\", function (headerKey) {\n      return function () {\n        _this.setState(function (state) {\n          return (0, _sorting.getNextSortState)(_this.props, state, {\n            key: headerKey\n          });\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnInputValueChange\", function (event, defaultValue) {\n      if (event.target) {\n        _this.setState({\n          filterInputValue: event.target.value\n        });\n      }\n\n      if (defaultValue) {\n        _this.setState({\n          filterInputValue: defaultValue\n        });\n      }\n    });\n\n    _this.state = _objectSpread(_objectSpread({}, (0, _getDerivedStateFromProps.default)(_props, {})), {}, {\n      isExpandedAll: false // Start with collapsed state, treat `undefined` as neutral state\n\n    });\n    _this.instanceId = getInstanceId();\n    return _this;\n  }\n\n  _createClass(DataTable, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps === this.props) {\n        return;\n      }\n\n      var prevRowIds = prevProps.rows.map(function (row) {\n        return row.id;\n      });\n      var rowIds = this.props.rows.map(function (row) {\n        return row.id;\n      });\n\n      if (!(0, _lodash.default)(prevRowIds, rowIds)) {\n        this.setState(function (state) {\n          return (0, _getDerivedStateFromProps.default)(_this2.props, state);\n        });\n        return;\n      }\n\n      var prevHeaders = prevProps.headers.map(function (header) {\n        return header.key;\n      });\n      var headers = this.props.headers.map(function (header) {\n        return header.key;\n      });\n\n      if (!(0, _lodash.default)(prevHeaders, headers)) {\n        this.setState(function (state) {\n          return (0, _getDerivedStateFromProps.default)(_this2.props, state);\n        });\n        return;\n      }\n\n      if (!(0, _lodash.default)(prevProps.rows, this.props.rows)) {\n        this.setState(function (state) {\n          return (0, _getDerivedStateFromProps.default)(_this2.props, state);\n        });\n        return;\n      }\n    }\n    /**\n     * Get the props associated with the given header. Mostly used for adding in\n     * sorting behavior.\n     *\n     * @param {object} config\n     * @param {string} config.header the header we want the props for\n     * @param {Function} config.onClick a custom click handler for the header\n     * @returns {object}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          filterRows = _this$props2.filterRows,\n          headers = _this$props2.headers,\n          render = _this$props2.render;\n      var _this$state3 = this.state,\n          filterInputValue = _this$state3.filterInputValue,\n          rowIds = _this$state3.rowIds,\n          rowsById = _this$state3.rowsById,\n          cellsById = _this$state3.cellsById;\n      var filteredRowIds = typeof filterInputValue === 'string' ? filterRows({\n        rowIds: rowIds,\n        headers: headers,\n        cellsById: cellsById,\n        inputValue: filterInputValue\n      }) : rowIds;\n      var renderProps = {\n        // Data derived from state\n        rows: (0, _denormalize.default)(filteredRowIds, rowsById, cellsById),\n        headers: this.props.headers,\n        selectedRows: (0, _denormalize.default)(this.getSelectedRows(), rowsById, cellsById),\n        // Prop accessors/getters\n        getHeaderProps: this.getHeaderProps,\n        getExpandHeaderProps: this.getExpandHeaderProps,\n        getRowProps: this.getRowProps,\n        getSelectionProps: this.getSelectionProps,\n        getToolbarProps: this.getToolbarProps,\n        getBatchActionProps: this.getBatchActionProps,\n        getTableProps: this.getTableProps,\n        getTableContainerProps: this.getTableContainerProps,\n        // Custom event handlers\n        onInputChange: this.handleOnInputValueChange,\n        // Expose internal state change actions\n        sortBy: function sortBy(headerKey) {\n          return _this3.handleSortBy(headerKey)();\n        },\n        selectAll: this.handleSelectAll,\n        selectRow: function selectRow(rowId) {\n          return _this3.handleOnSelectRow(rowId)();\n        },\n        expandRow: function expandRow(rowId) {\n          return _this3.handleOnExpandRow(rowId)();\n        },\n        expandAll: this.handleOnExpandAll,\n        radio: this.props.radio\n      };\n\n      if (render !== undefined) {\n        return render(renderProps);\n      }\n\n      if (children !== undefined) {\n        return children(renderProps);\n      }\n\n      return null;\n    }\n  }]);\n\n  return DataTable;\n}(_react.default.Component);\n\nexports.default = DataTable;\n\n_defineProperty(DataTable, \"propTypes\", {\n  /**\n   * The `rows` prop is where you provide us with a list of all the rows that\n   * you want to render in the table. The only hard requirement is that this\n   * is an array of objects, and that each object has a unique `id` field\n   * available on it.\n   */\n  rows: _propTypes.default.arrayOf(_propTypes.default.shape({\n    id: _propTypes.default.string.isRequired,\n    disabled: _propTypes.default.bool,\n    isSelected: _propTypes.default.bool,\n    isExpanded: _propTypes.default.bool\n  })).isRequired,\n\n  /**\n   * The `headers` prop represents the order in which the headers should\n   * appear in the table. We expect an array of objects to be passed in, where\n   * `key` is the name of the key in a row object, and `header` is the name of\n   * the header.\n   */\n  headers: _propTypes.default.arrayOf(_propTypes.default.shape({\n    key: _propTypes.default.string.isRequired,\n    header: _propTypes.default.node.isRequired\n  })).isRequired,\n\n  /**\n   * Optional hook to manually control sorting of the rows.\n   */\n  sortRow: _propTypes.default.func,\n\n  /**\n   * Optional hook to manually control filtering of the rows from the\n   * TableToolbarSearch component\n   */\n  filterRows: _propTypes.default.func,\n\n  /**\n   * Provide a string for the current locale\n   */\n  locale: _propTypes.default.string,\n\n  /**\n   * Optional method that takes in a message id and returns an\n   * internationalized string. See `DataTable.translationKeys` for all\n   * available message ids.\n   */\n  translateWithId: _propTypes.default.func,\n\n  /**\n   * `normal` Change the row height of table\n   */\n  size: _propTypes.default.oneOf(['compact', 'short', 'normal', 'tall']),\n\n  /**\n   * Specify whether the control should be a radio button or inline checkbox\n   */\n  radio: _propTypes.default.bool,\n\n  /**\n   * Specify whether the header should be sticky.\n   * Still experimental: may not work with every combination of table props\n   */\n  stickyHeader: _propTypes.default.bool,\n\n  /**\n   * Specify whether the table should be able to be sorted by its headers\n   */\n  isSortable: _propTypes.default.bool,\n\n  /**\n   * Specify whether the overflow menu (if it exists) should be shown always, or only on hover\n   */\n  overflowMenuOnHover: _propTypes.default.bool\n});\n\n_defineProperty(DataTable, \"defaultProps\", {\n  sortRow: _sorting2.defaultSortRow,\n  filterRows: _filter.defaultFilterRows,\n  locale: 'en',\n  size: 'normal',\n  overflowMenuOnHover: true,\n  translateWithId: translateWithId\n});\n\n_defineProperty(DataTable, \"translationKeys\", Object.values(translationKeys));"]},"metadata":{},"sourceType":"script"}